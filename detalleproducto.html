<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Detalles del producto</title>
   <link rel="icon" type="image/vnd.microsoft.icon" href="https://cdn-icons-png.flaticon.com/256/1467/1467388.png" />
		
</head>

<body>
  <header>

			    <ul class="menu">
      <li><a href="index.html">Inicio</a></li>
      <li><a href="contacteconnosotros.html">Contactanos</a></li>
      <li><a href="iniciarsesion.html">Iniciar sesión</a></li>
      <li><a href="#">Eventos</a></li>
    </ul>
	
    <h1>DETALLES DEL PRODUCTO</h1>
  </header>
  <div class="detalles-producto">
    <!-- Aquí mostrarás los detalles del producto utilizando JavaScript -->
  </div>
  
  <button id="agregarAlCarrito">Agregar al Carrito</button>
	<style>
		  body{
      background-color: #f7cbf7;
  }
		detalles-producto {
  display: flex;
  align-items: flex-start; /* Alinea los elementos al inicio (izquierda) */
  justify-content: space-between; /* Espacio entre elementos */
  padding: 20px;
  margin-left: 60px;
  width: 80%;
  align-content: center;
}
		.menu {
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
      background-color: #ea899a
    }

    .menu li {
      margin-right: 20px;
    }

    .menu a {
      text-decoration: none;
      color: black;
      font-weight: bold;
      font-size: 20px;
      font-family: "Dancing Script",cursive;
    }
	

.detalles-producto {
  display: flex;
  align-items: flex-start; /* Alinea los elementos al inicio (izquierda) */
  justify-content: space-between; /* Espacio entre elementos */
  padding: 20px;
  margin-left: 60px;
  width: 80%;
  align-content: center;
}

.detalles-producto h2 {
  font-size: 1.8em;
  margin-right: 20px; /* Agrega margen a la derecha para separar del contenido a la derecha */
}

.detalles-producto img {
  width: 70%;
  max-width: 400px;
  height: auto;
}

.detalles-producto p {
  max-width: 400px;
  text-align:center; /* Alinea el texto a la derecha */
}

	
	 

	</style>
  
  <script>
    // Obtén el ID del producto de la URL (podemos usar la url porque no estamos haciendo http en internet sino en el equipo)
    const urlParams = new URL(window.location.href);
    const productId = urlParams.searchParams.get('id');
    // Función para obtener los detalles del product
    // Intenta recuperar el producto desde localStorage
    const productJSON = localStorage.getItem(`product_${productId}`);

    // Creamos el evento de escucha del click del botón agregar al carrito
     document.addEventListener("DOMContentLoaded", () => {
      const product = JSON.parse(productJSON);
      // Agrega un evento al botón "Agregar al Carrito"
      const agregarAlCarritoButton = document.getElementById("agregarAlCarrito");
      agregarAlCarritoButton.addEventListener("click", () => {
        // Agrega el producto al carrito en localStorage
        agregarAlCarrito(product);
      });
    });
    // creamos la función de agregar al carrito de compra
    function agregarAlCarrito(product) {
      // Obtén el carrito actual desde localStorage o crea un array vacío
      let carrito = JSON.parse(localStorage.getItem("carrito")) || [];

      // Agrega el producto al carrito
      carrito.push(product);

      // Guarda el carrito actualizado en localStorage
      localStorage.setItem("carrito", JSON.stringify(carrito));

      // Puedes mostrar una confirmación de que el producto se ha agregado al carrito
      alert("Producto agregado al carrito");
    }

    // mostramos el detalle del producto:
    if (productJSON) {
      // Si el producto está en localStorage, convierte el JSON a un objeto JavaScript
      const product = JSON.parse(productJSON);

      // Muestra los detalles del producto en la página
      const detallesContainer = document.querySelector('.detalles-producto');
      detallesContainer.innerHTML = `
        <h2>${product.title}</h2>
        <img src="${product.image}" alt="${product.title}" style="width: 232px">
        <p><strong>Precio:</strong> $${product.price}</p>
        <p><strong>Descripción:</strong> ${product.description}</p>
      `;
    } else {
      // Si el producto no está en localStorage, muestra un mensaje de que no se ha encontrado.
      console.log('Producto no encontrado en el almacenamiento local.');
    }

  </script>
</body>

</html>
